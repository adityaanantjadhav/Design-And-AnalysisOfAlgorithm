//Assignment 2 Bellman ford


//TIB 25 Aditya Anant Jadhav



#include<iostream>
using namespace std;

int main(){
	int v,e,source;
	
	
	cout<<"enter the no. of vertices::";
	cin>>v;
	cout<<"enter the no. of edges::";
	cin>>e;
	cout<<"enter the source vertex::";
	cin>>source;
	
	int mat[3][e];
	int dist[v];
	
	for(int i=0;i<e;i++){
		cout<<"enter the start vertex::";
		cin>>mat[0][i];
		cout<<"enter the ending vertex::";
		cin>>mat[1][i];;
		cout<<"enter the value of edge::";
		cin>>mat[2][i];;
	}
	
	cout<<"startpoint::";	
	for(int j=0;j<e;j++){
	 cout<<mat[0][j]<<"\t";
	}cout<<endl<<"end point ::";
	for(int j=0;j<e;j++){
	 cout<<mat[1][j]<<"\t";
	}cout<<endl<<"values   ::";
	for(int j=0;j<e;j++){
	 cout<<mat[2][j]<<"\t";
	}cout<<endl;
	
	for(int i=0;i<v;i++){
		dist[i]=999;
	}
	dist[source]=0;
	
	
	
	int start,end;
	for(int j=0;j<v;j++){
	int flag=0;
		for(int i=0;i<e;i++){
			start=mat[0][i];
			end=mat[1][i];
			if(dist[start]!=999){
				if(dist[end]>(dist[start]+mat[2][i])){
					dist[end]=dist[start]+mat[2][i];
					flag=1;
				}
			}
		}
		if(flag==0 && j!=(v-1)){
			break;
		}
		else if(flag==1 && j==(v-1)){
			cout<<"there exists a negative loop\n";	
		}

        cout<<"iteration "<<j+1<<": ";
		for(int i=0;i<v;i++){
			cout<<dist[i]<<"\t";
		}cout<<endl;
		
	}
	
}


//////////////////////OUTPUT

enter the no. of vertices::7
enter the no. of edges::10
enter the source vertex::0
enter the start vertex::0
enter the ending vertex::1
enter the value of edge::6
enter the start vertex::0
enter the ending vertex::2
enter the value of edge::5
enter the start vertex::0
enter the ending vertex::3
enter the value of edge::5
enter the start vertex::1
enter the ending vertex::4
enter the value of edge::-1
enter the start vertex::2
enter the ending vertex::1
enter the value of edge::-2
enter the start vertex::2
enter the ending vertex::4
enter the value of edge::1
enter the start vertex::3
enter the ending vertex::2
enter the value of edge::-2
enter the start vertex::3
enter the ending vertex::5
enter the value of edge::-1
enter the start vertex::4
enter the ending vertex::6
enter the value of edge::3
enter the start vertex::5
enter the ending vertex::6
enter the value of edge::3
startpoint::0   0       0       1       2       2       3       3       4       5
end point ::1   2       3       4       1       4       2       5       6       6
values    ::6   5       5       -1      -2      1       -2      -1      3       3

iteration 1: 0  3       3       5       5       4       7
iteration 2: 0  1       3       5       2       4       5
iteration 3: 0  1       3       5       0       4       3